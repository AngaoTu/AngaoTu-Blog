[toc]

# 常用系统框架详解系列-食用指北

## 背景

- 首先，我对自己的一些背景做一些简单介绍。本人在学校自学了2年左右的`iOS`开发，然后在大三下学期进入了字节跳动做`iOS`开发实习生，毕业后进入了鹅厂做了一名`iOS`开发工程师，可以算得上是有一定的开发经验。
- 那为什么我会选择写这样一个系列？虽然我有一定的开发经验，但是不管在实习过程中、还是在正式工作中，面对一些常用的类，我仅仅了解一些常用方法和属性，对于一些未曾使用过的仍然是一头雾水。经常面对一些特殊场景和问题，需要谷歌才能知道原来还有这种用法。一方面遵着做一名优秀的工程师目标，争取对自己常用的东西做到熟悉甚至精通，为自己接下来的进阶学习打好基础；另一方面在正式入职后，为了进一步逼迫自己学习，所以我选择采用强制输出的方式来强迫自己输入。
- 因此，我打算趁着熟悉工作环境阶段，选择了难度系数比较小、开发中使用频率高的系统框架，即是怀念大学的`iOS`学习之旅，也是作为正式入职后一段新航程的开始。

## 目的

- 希望通过这个系列，我们对常用的一些框架有进一步的了解，了解每个常用类中有哪些属性和方法，重点针对不常用的属性和方法做一次扫盲。
- 通过对一些属性方法的了解，打开在某些场景下的开发思路，或者对一些问题有更好的解决方案，做到对常用框架的真正熟悉。

## 系统框架简介

- 首先我们需要知道在`iOS`系统架构下，由哪些框架组成，分别有什么作用。

- 根据下面这张图片，我们可以知道iOS系统框架层次，从下到上依次是：`Core OS`、`Core Services`、 `Media`、 `Cocoa Touch`共四层。

![iOS系统框架架构图](https://upload-images.jianshu.io/upload_images/696136-ade633eeaa109baa.png)

- `Core OS`：系统核心层包含大多数低级别接近硬件的功能，它所包含的框架常常被其它框架所使用。
  - `Accelerate`框架包含数字信号，线性代数，图像处理的接口。针对所有的`iOS`设备硬件之间的差异做优化，保证写一次代码在所有`iOS`设备上高效运行。
  - `CoreBluetooth`框架利用蓝牙和外设交互，包括扫描连接蓝牙设备，保存连接状态，断开连接，获取外设的数据或者给外设传输数据等等。
  - `Security`框架提供管理证书，公钥和私钥信任策略，`keychain`,`hash`认证数字签名等等与安全相关的解决方案。 
- `Core Services`：系统服务层提供给应用所需要的基础的系统服务。
  - 其中最核心的是`CoreFoundation`和`Foundation`框架，定义了所有应用使用的数据类型。`CoreFoundation`是基于`C`的一组接口，`Foundation`是对`CoreFoundation`的`OC`封装。
- `Media`：媒体层提供应用中视听方面的技术
  - 图形图像相关的`CoreGraphics`,`CoreImage`,`GLKit`,`OpenGL ES`,`CoreText`,`ImageIO`等等
  - 声音技术相关的`CoreAudio`,`OpenAL`,`AVFoundation`
  - 视频相关的`CoreMedia`,`Media Player`框架
  - 音视频传输的`AirPlay`框架等等
- `Cocoa Touch`：触摸层为应用程序开发提供了各种常用的框架并且大部分框架与界面有关，本质上来说它负责用户在iOS设备上的触摸交互操作。
  - `NotificationCenter`的本地通知和远程推送服务
  - `iAd`广告框架
  - `GameKit`游戏工具框架
  - 图片`UI`框架，地图框架，连接手表框架，自动适配等等

## 本系列详解范围

- 从上图可以`iOS`的系统框架非常之多，不可能所有都会讲解，我只会挑选常用的框架，框架内中常用的类来进行讲解。可以覆盖平时大部分的开发场景，特殊情况下还需要我们临时查询对应的框架资料。

- 在`Cocoa Touch`层，选择讲解`UIKit`

- 在`MediaLayer`层，选择讲解`photos`
  - `CoreText/OpenGlES` 这些相关在学习iOS图像处理相关在整理
  - `CoreAudio/AVFoundation` 这些相关在学习音视频相关再整理
  - `CoreText` 学习富文本再整理
  - `CoreGraphics` 学习动画再整理
- 在`CoreServices`层，选择讲解`Foundation`
- 在`CoreOS`层，这一层平时开发中接触不到，所以暂时不讲解

## 参考文献

- [iOS系统框架概述](https://www.jianshu.com/p/0f2ab4b09e8b)



